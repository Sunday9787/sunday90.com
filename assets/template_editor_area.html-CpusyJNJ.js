import{_ as s,o as a,c as t,a as p,e,f as o}from"./app-CxMWSuJm.js";const c={};function l(i,n){return a(),t("div",null,[n[0]||(n[0]=p("p",null,"æ¡†é€‰è¿™ä¸ªåŠŸèƒ½ easy éå¸¸ so easyğŸ˜‰",-1)),e(" more "),n[1]||(n[1]=o(`<h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h2><p>è¿™ç©æ„å°±æ˜¯ç¿»ç‰ˆçš„ Photoshop æ¡†é€‰å·¥å…·ï¼Œæ²¡é”™æˆ‘å°±æ˜¯è®¾è®¡å‡ºèº«ğŸ˜Œ</p><h2 id="éœ€æ±‚åˆ†æ" tabindex="-1"><a class="header-anchor" href="#éœ€æ±‚åˆ†æ" aria-hidden="true">#</a> éœ€æ±‚åˆ†æ</h2><p>æ¡†é€‰çš„æ—¶å€™ï¼Œå¦‚æœæ§ä»¶åœ¨æ¡†é€‰èŒƒå›´å†…åˆ™å°±ç®—æ˜¯æ¡†é€‰ä¸Šï¼Œç›´æ¥ç»„åˆæˆç»„ã€‚å½“ç„¶å¯ä»¥åšæˆä¸€ä¸ªå¿«æ·é”®ç»„æˆç»„ï¼Œå…¶å®å¯¹äºè¿™ç§åº”ç”¨æ¥è®²ï¼Œæ²¡å¿…è¦ï¼Œå¿«æ·æ–¹ä¾¿æ‰æ˜¯ç¬¬ä¸€ä½ï¼Œå®ƒå¹¶ä¸æ˜¯å›¾åƒå¤„ç†ã€‚</p><h2 id="è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡" aria-hidden="true">#</a> è®¾è®¡</h2><p>esay éå¸¸ easy</p><p>ç›‘å¬é¼ æ ‡ç§»åŠ¨ç„¶åéå†æ‰€æœ‰æ§ä»¶æ¯”å¯¹ æ§ä»¶çš„å››è§’ä½ç½®æ˜¯ä¸æ˜¯åœ¨ï¼Œé¼ æ ‡ç»˜åˆ¶çš„èŒƒå›´å†…ï¼Œå¦‚æœåœ¨ï¼Œå°±ç»„åˆåœ¨ä¸€å—</p><p>get</p><h2 id="è§†å›¾" tabindex="-1"><a class="header-anchor" href="#è§†å›¾" aria-hidden="true">#</a> è§†å›¾</h2><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pug<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
svg.template-area(
  xmlns=&quot;http://www.w3.org/2000/svg&quot;
  :width=&quot;rectStyle.width&quot;
  :height=&quot;rectStyle.height&quot;
  :style=&quot;{ left: rectStyle.left, top: rectStyle.top }&quot;)
  rect(stroke=&quot;var(--color-primary)&quot; fill=&quot;rgba(0, 0, 0, 0.1)&quot; stroke-width=&quot;1&quot; height=&quot;100%&quot; width=&quot;100%&quot;)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="props" tabindex="-1"><a class="header-anchor" href="#props" aria-hidden="true">#</a> Props</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;TemplateArea&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;stageInstance&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>Name</th><th>Type</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>scale</code></td><td><code>Number</code></td><td>ç¼©æ”¾æ¯”ä¾‹(20-100)</td></tr></tbody></table><h2 id="å®ç°" tabindex="-1"><a class="header-anchor" href="#å®ç°" aria-hidden="true">#</a> å®ç°</h2><h3 id="åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–" aria-hidden="true">#</a> åˆå§‹åŒ–</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Ref<span class="token punctuation">&lt;</span><span class="token punctuation">{</span>x<span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">:</span> number<span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span>
* é¼ æ ‡æš‚å­˜çš„ä½ç½®
*/</span>
<span class="token keyword">const</span> stagePosition <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token comment">// é¼ æ ‡åˆ’è¿‡çš„å®½é«˜XY</span>
<span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">h</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token doc-comment comment">/**
* <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span>Map<span class="token punctuation">&lt;</span>number<span class="token punctuation">,</span> Template<span class="token punctuation">.</span>BuiltinComponent<span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span>
*/</span>
<span class="token keyword">const</span> components <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token doc-comment comment">/**
* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>PointerEvent<span class="token punctuation">}</span></span> <span class="token parameter">e</span>
*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">pointerdown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>stageInstance<span class="token punctuation">.</span>spaceDown<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">const</span> scale <span class="token operator">=</span> props<span class="token punctuation">.</span>scale <span class="token operator">/</span> <span class="token number">100</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> vm<span class="token punctuation">.</span>stageRect<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">/</span> scale <span class="token operator">-</span> vm<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>x
  <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> vm<span class="token punctuation">.</span>stageRect<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">/</span> scale <span class="token operator">-</span> vm<span class="token punctuation">.</span>offset<span class="token punctuation">.</span>y

  rect<span class="token punctuation">.</span>x <span class="token operator">=</span> x
  rect<span class="token punctuation">.</span>y <span class="token operator">=</span> y

  stagePosition<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">.</span>pageY <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œä¸»è¦æ˜¯ä½ç½®çš„åˆå§‹åŒ–æ“ä½œ</p><p><code>components</code> æ˜¯ä¸ºäº†å­˜æ¡†é€‰èŒƒå›´å†…çš„ç©ºé—´</p><h3 id="æ¡†é€‰" tabindex="-1"><a class="header-anchor" href="#æ¡†é€‰" aria-hidden="true">#</a> æ¡†é€‰</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>PointerEvent<span class="token punctuation">}</span></span> <span class="token parameter">e</span>
*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">pointermove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>stagePosition<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> scale <span class="token operator">=</span> props<span class="token punctuation">.</span>scale <span class="token operator">/</span> <span class="token number">100</span>
    <span class="token keyword">const</span> w <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> stagePosition<span class="token punctuation">.</span>value<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">/</span> scale
    <span class="token keyword">const</span> h <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> stagePosition<span class="token punctuation">.</span>value<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">/</span> scale

    rect<span class="token punctuation">.</span>w <span class="token operator">=</span> w
    rect<span class="token punctuation">.</span>h <span class="token operator">=</span> h

    store<span class="token punctuation">.</span>components<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> component <span class="token operator">=</span> store<span class="token punctuation">.</span>components<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>uid<span class="token punctuation">)</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        item<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&gt;=</span> rect<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span>
        item<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&lt;=</span> rect<span class="token punctuation">.</span>x <span class="token operator">+</span> rect<span class="token punctuation">.</span>w <span class="token operator">&amp;&amp;</span>
        item<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> rect<span class="token punctuation">.</span>y <span class="token operator">&amp;&amp;</span>
        item<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> rect<span class="token punctuation">.</span>y <span class="token operator">+</span> rect<span class="token punctuation">.</span>h
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>components<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span>uid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          components<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span>uid<span class="token punctuation">,</span> component<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éå†æ‰€æœ‰æ§ä»¶ï¼Œåˆ¤æ–­xyæ˜¯å¦åœ¨æ¡†é€‰çš„çŸ©å½¢èŒƒå›´å†…ï¼Œå¦‚æœæ¡†é€‰å†…çš„ç»„ä»¶Mapå­˜åœ¨åˆ™è·³è¿‡ï¼Œå¦åˆ™å­˜è¿›Mapã€‚</p><p><em>ç›®å‰åªå®ç°äº†ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’æ¡†é€‰ï¼Œæ²¡æœ‰å®ç°å¦å¤–ä¸‰ä¸ªæ–¹å‘</em></p><h3 id="æ¡†é€‰å®Œæˆ" tabindex="-1"><a class="header-anchor" href="#æ¡†é€‰å®Œæˆ" aria-hidden="true">#</a> æ¡†é€‰å®Œæˆ</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>PointerEvent<span class="token punctuation">}</span></span> <span class="token parameter">e</span>
*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">pointerup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  stagePosition<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>
  rect<span class="token punctuation">.</span>w <span class="token operator">=</span> rect<span class="token punctuation">.</span>h <span class="token operator">=</span> rect<span class="token punctuation">.</span>x <span class="token operator">=</span> rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>components<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>components<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;area&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    components<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>

  context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;unArea&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç½®å˜é‡</p><p>è§¦å‘areaäº‹ä»¶åï¼Œç”»å¸ƒæ¥æ”¶æ­¤äº‹ä»¶ï¼Œå¹¶emitåˆ°<code>eventBus</code>äº‹ä»¶ç®¡ç†ä¸­ã€‚</p><h2 id="æœ€å" tabindex="-1"><a class="header-anchor" href="#æœ€å" aria-hidden="true">#</a> æœ€å</h2><p>ä¸ºä»€ä¹ˆè¦åœ¨ç”»å¸ƒä¸­ä¸­è½¬ä¸€æ¬¡äº‹ä»¶ï¼Ÿ</p><p>å› ä¸ºå¦‚æœç›´æ¥åœ¨areaç»„ä»¶ä¸­ç›´æ¥emitäº‹ä»¶åˆ°<code>eventBus</code>äº‹ä»¶ä¸­å¿ƒï¼Œå¤ªè¿‡äºåˆ†æ•£ï¼Œä¸åˆ©äºç»´æŠ¤ï¼Œä¸”ä¸åˆ©äºæ‰©å±•</p><p>è¿™æ ·åšçš„ä¼˜åŠ¿åœ¨äºï¼š</p><ol><li><p><strong>é™ä½è€¦åˆ</strong>ï¼šå­ç»„ä»¶ä¸ä¼šç›´æ¥ä¸å…¨å±€ EventBus äº¤äº’ï¼Œè¿™æ ·å°±å‡å°‘äº†å¯¹å­ç»„ä»¶çš„ä¾èµ–ï¼Œä½¿å¾—å­ç»„ä»¶æ›´åŠ ç‹¬ç«‹å’Œå¯å¤ç”¨ã€‚</p></li><li><p><strong>äº‹ä»¶ç®¡ç†æ¸…æ™°</strong>ï¼šçˆ¶ç»„ä»¶æˆä¸ºäº‹ä»¶çš„â€œè·¯ç”±å™¨â€ï¼Œå®ƒå¯ä»¥æ§åˆ¶å“ªäº›äº‹ä»¶éœ€è¦å¹¿æ’­åˆ°å…¨å±€ï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œå¹¿æ’­ã€‚</p></li><li><p><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šå¦‚æœéœ€è¦å˜æ›´å…¨å±€ EventBus çš„é€»è¾‘ï¼Œç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„å¤„ç†é€»è¾‘å³å¯ï¼Œè€Œä¸å¿…è°ƒæ•´å­ç»„ä»¶ã€‚</p></li></ol><p><em>äº‹å®ä¸Šï¼Œç¼–è¾‘å™¨å†…æ‰€æœ‰çš„ç»„ä»¶éƒ½æ˜¯è¿™æ ·ä¼ é€’äº‹ä»¶çš„</em></p><figure><img src="https://static-1256180570.cos.ap-nanjing.myqcloud.com/image/1731608104.jpg?imageMogr2/interlace/1/quality/100/thumbnail/400x" alt="å¥½é¥¿æ—©çŸ¥é“ä¸åšå‰ç«¯äº†" tabindex="0" loading="lazy"><figcaption>å¥½é¥¿æ—©çŸ¥é“ä¸åšå‰ç«¯äº†</figcaption></figure>`,33))])}const r=s(c,[["render",l],["__file","template_editor_area.html.vue"]]);export{r as default};
