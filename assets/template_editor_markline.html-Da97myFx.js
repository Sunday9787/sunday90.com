import{_ as s,o as a,c as p,a as t,e,f as o}from"./app-CxMWSuJm.js";const c={};function l(i,n){return a(),p("div",null,[n[0]||(n[0]=t("p",null,"è¾…åŠ©çº¿å¬èµ·æ¥é«˜å¤§ä¸Šï¼Œå…¶å®å°±é‚£ä¹ˆå›äº‹å„¿ğŸ˜",-1)),e(" more "),n[1]||(n[1]=o(`<h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h2><p>è¿™ä¸ªåŠŸèƒ½çš„æ€è·¯å‡ ä¹æ²¡æœ‰ç»è¿‡æ·±æ€ç†Ÿè™‘ï¼Œå°±è‡ªç„¶åœ°é¡ºç•…åœ°å‡ºæ¥äº†ï¼Œæ€ç»´åƒæºæ³‰ä¸€æ ·ä¸æ–­æ¶Œç°ï¼Œæ˜¯æˆ‘æœ€å¾—æ„çš„åŠŸèƒ½ã€‚</p><h2 id="éœ€æ±‚åˆ†æ" tabindex="-1"><a class="header-anchor" href="#éœ€æ±‚åˆ†æ" aria-hidden="true">#</a> éœ€æ±‚åˆ†æ</h2><p>å½“æ§ä»¶ç§»åŠ¨çš„æ—¶å€™ï¼Œç›‘å¬å…¶ä½ç½®ï¼Œè·Ÿå…¶ä»–æ§ä»¶çš„æ°´å¹³å’Œå‚ç›´å¯¹åº”çš„è¾¹ä¸Šçš„æ¯ä¸€ä¸ªæ§åˆ¶ç‚¹çš„x&amp;yéƒ½åšä¸€ä¸ªæ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯</p><p><code>left</code> vs <code>left</code></p><p><code>left</code> vs <code>right</code></p><p><code>right</code> vs <code>right</code></p><p><code>top</code> vs <code>top</code></p><p><code>top</code> vs <code>bottom</code></p><p><code>top</code> vs <code>center</code></p><p><code>bottom</code> vs <code>bottom</code></p><p><code>bottom</code> vs <code>center</code></p><p><code>bottom</code> vs <code>top</code></p><p>ç­‰ç­‰... ï¼ˆå®é™…ä»£ç é‡Œæˆ‘æ²¡æœ‰ä¸¾ä¾‹å®Œï¼‰</p><p>è·Ÿå…¶ä»–æ§ä»¶çš„è¿™äº›è¾¹éƒ½åšä¸€ä¸ªæ¯”è¾ƒï¼Œå¦‚æœå·®å€¼åœ¨5åƒç´ èŒƒå›´ï¼Œé‚£ä¹ˆå°±æ˜¾ç¤ºæ­¤è¾…åŠ©çº¿ï¼Œå¹¶å°†è¾…åŠ©çº¿xï¼Œyæ›´æ–°ã€‚</p><h2 id="è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡" aria-hidden="true">#</a> è®¾è®¡</h2><p><strong>è¾…åŠ©çº¿</strong></p><p>è¾…åŠ©çº¿åªæ˜¯ä¸€ä¸ªå±•ç¤ºï¼Œä»…ä»…éœ€è¦æ§åˆ¶å…¶ <code>visible</code> <code>x,y</code> å³å¯ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æ§ä»¶å®šä¹‰6ä¸ªè¾…åŠ©çº¿åˆ†åˆ«æ˜¯</p><p>yl =&gt; çºµè½´å·¦è¾¹</p><p>yc =&gt; çºµè½´ä¸­é—´</p><p>yr =&gt; çºµè½´å³è¾¹</p><p>xt =&gt; æ¨ªè½´ä¸Šè¾¹</p><p>xc =&gt; æ¨ªè½´ä¸­é—´</p><p>Xb =&gt; æ¨ªè½´ä¸‹è¾¹</p><p>å½“ç„¶å…¶å®å®šä¹‰2æ¡çº¿å…¶å®ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™é‡Œæˆ‘ä¸ºäº†æ›´æ¸…æ¥šçš„å»æ˜¾ç¤ºè¾…åŠ©çº¿æ‰€ä»¥ä½¿ç”¨äº†6æ¡çº¿</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
   * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Ref<span class="token punctuation">&lt;</span>Array<span class="token punctuation">&lt;</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&#39;yl&#39;</span><span class="token operator">|</span><span class="token string">&#39;yc&#39;</span><span class="token operator">|</span><span class="token string">&#39;yr&#39;</span><span class="token operator">|</span><span class="token string">&#39;xt&#39;</span><span class="token operator">|</span><span class="token string">&#39;xc&#39;</span><span class="token operator">|</span><span class="token string">&#39;xb&#39;</span><span class="token punctuation">,</span>direction<span class="token operator">:</span> string<span class="token punctuation">,</span> visible<span class="token operator">:</span> boolean<span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token punctuation">{</span>left<span class="token operator">:</span> number<span class="token punctuation">,</span> top<span class="token operator">:</span> number<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span>
   */</span>
<span class="token keyword">const</span> markLine <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;yl&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;vertical&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;yc&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;vertical&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;yr&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;vertical&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;xt&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;horizontal&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;xc&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;horizontal&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;xb&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;horizontal&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è§†å›¾" tabindex="-1"><a class="header-anchor" href="#è§†å›¾" aria-hidden="true">#</a> è§†å›¾</h2><h3 id="ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶" aria-hidden="true">#</a> ç»„ä»¶</h3><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pug<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
svg.template-mark-line(
  xmlns=&quot;http://www.w3.org/2000/svg&quot;
  :width=&quot;size.width&quot;
  :height=&quot;size.height&quot;
  :style=&quot;wrapperStyle&quot;
  :class=&quot;{visible}&quot;)
  line(stroke=&quot;var(--color-primary)&quot; x1=&quot;0&quot; y1=&quot;0&quot; :x2=&quot;size.width&quot; :y2=&quot;size.height&quot;)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨" aria-hidden="true">#</a> ä½¿ç”¨</h3><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
TemplateMarkLine(v-for=&quot;item of markLine&quot;
  :key=&quot;item.type&quot;
  :position=&quot;item.position&quot;
  :direction=&quot;item.direction&quot;
  :visible=&quot;item.visible&quot;)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="props" tabindex="-1"><a class="header-anchor" href="#props" aria-hidden="true">#</a> Props</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;TemplateMarkLine&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">visible</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;horizontal&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>Name</th><th>Type</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>direction</code></td><td>\`&quot;horizontal&quot;</td><td>&quot;vertical&quot;\`</td></tr><tr><td><code>position</code></td><td><code>{x: Number, y: Number}</code></td><td>ä½ç½®</td></tr></tbody></table><h2 id="å®ç°" tabindex="-1"><a class="header-anchor" href="#å®ç°" aria-hidden="true">#</a> å®ç°</h2><h3 id="è¾¹ç•Œåˆ¤å®š" tabindex="-1"><a class="header-anchor" href="#è¾¹ç•Œåˆ¤å®š" aria-hidden="true">#</a> è¾¹ç•Œåˆ¤å®š</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">dragValue</span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">targetValue</span>
 */</span>
<span class="token keyword">function</span> <span class="token function">isNearly</span><span class="token punctuation">(</span><span class="token parameter">dragValue<span class="token punctuation">,</span> targetValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>dragValue <span class="token operator">-</span> targetValue<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å‡½æ•° åªæ˜¯åˆ¤æ–­å¤šå°‘è·ç¦»æ˜¯åˆ°è¾¾è¾¹ç•Œå€¼</p><h3 id="å¯¹æ¯”æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”æ¡ä»¶" aria-hidden="true">#</a> å¯¹æ¯”æ¡ä»¶</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span>Record<span class="token punctuation">&lt;</span>string<span class="token punctuation">,</span> <span class="token punctuation">(</span>rect1<span class="token operator">:</span> Template<span class="token punctuation">.</span>Rect<span class="token punctuation">,</span> rect2<span class="token operator">:</span> Template<span class="token punctuation">.</span>Rect<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>visible<span class="token operator">:</span> boolean<span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token punctuation">{</span>left<span class="token operator">:</span> number<span class="token punctuation">,</span> top<span class="token operator">:</span> number<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">}</span>&gt;<span class="token punctuation">}</span>
 */</span>
<span class="token keyword">const</span> conditions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">yl</span><span class="token punctuation">(</span><span class="token parameter">rect1<span class="token punctuation">,</span> rect2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ll <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> lr <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> ll<span class="token punctuation">.</span>visible <span class="token operator">?</span> ll <span class="token operator">:</span> lr
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">yc</span><span class="token punctuation">(</span><span class="token parameter">rect1<span class="token punctuation">,</span> rect2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>right <span class="token operator">-</span> rect1<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>right <span class="token operator">-</span> rect2<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>right <span class="token operator">-</span> rect2<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">yr</span><span class="token punctuation">(</span><span class="token parameter">rect1<span class="token punctuation">,</span> rect2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> rr <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> rl <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> rr<span class="token punctuation">.</span>visible <span class="token operator">?</span> rr <span class="token operator">:</span> rl
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">xt</span><span class="token punctuation">(</span><span class="token parameter">rect1<span class="token punctuation">,</span> rect2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> tt <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>top<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>top <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> tb <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>top<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>bottom<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>bottom <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> tt<span class="token punctuation">.</span>visible <span class="token operator">?</span> tt <span class="token operator">:</span> tb
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">xc</span><span class="token punctuation">(</span><span class="token parameter">rect1<span class="token punctuation">,</span> rect2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>bottom <span class="token operator">-</span> rect1<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>bottom <span class="token operator">-</span> rect2<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>bottom <span class="token operator">-</span> rect2<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">xb</span><span class="token punctuation">(</span><span class="token parameter">rect1<span class="token punctuation">,</span> rect2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> bb <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>bottom<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>bottom <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> bt <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token function">isNearly</span><span class="token punctuation">(</span>rect1<span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> rect2<span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> rect2<span class="token punctuation">.</span>top <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> bb<span class="token punctuation">.</span>visible <span class="token operator">?</span> bb <span class="token operator">:</span> bt
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®šä¹‰äº†å„ä¸ªè¾¹çš„å¯¹æ¯”ï¼Œå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ ä¸¤ä¸ªç‚¹çš„è·ç¦»è®¡ç®—æ¯”è¾ƒ</p><h2 id="éå†å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#éå†å¯¹æ¯”" aria-hidden="true">#</a> éå†å¯¹æ¯”</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
  * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Template<span class="token punctuation">.</span>Event<span class="token punctuation">&lt;</span>Template<span class="token punctuation">.</span>BuiltinComponent<span class="token punctuation">&gt;</span><span class="token punctuation">}</span></span> <span class="token parameter">e</span>
  */</span>
<span class="token keyword">const</span> <span class="token function-variable function">moveHandle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> currentComponent <span class="token operator">=</span> e<span class="token punctuation">.</span>detail
  <span class="token comment">// è·å¾—å½“å‰æ§ä»¶ rect</span>
  <span class="token keyword">const</span> currentRect <span class="token operator">=</span> <span class="token function">getRect</span><span class="token punctuation">(</span>currentComponent<span class="token punctuation">)</span>

  <span class="token comment">// éå†æ‰€æœ‰æ§ä»¶</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> item<span class="token punctuation">]</span> <span class="token keyword">of</span> store<span class="token punctuation">.</span>components<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœå½“å‰æ§ä»¶æ˜¯è‡ªå·±åˆ™è·³è¿‡</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> currentComponent<span class="token punctuation">.</span>uid<span class="token punctuation">)</span> <span class="token keyword">continue</span>

    <span class="token comment">// è·å–æ§ä»¶ rect</span>
    <span class="token keyword">const</span> rect <span class="token operator">=</span> <span class="token function">getRect</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>

    <span class="token comment">// æˆç«‹æ¡ä»¶æ•°é‡</span>
    <span class="token keyword">let</span> condition <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment">// æ‰€æœ‰æ¡ä»¶è¿›è¡Œä¸€æ¬¡æ‰§è¡Œ</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> line <span class="token keyword">of</span> markLine<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> visible<span class="token punctuation">,</span> position <span class="token punctuation">}</span> <span class="token operator">=</span> conditions<span class="token punctuation">[</span>line<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>currentRect<span class="token punctuation">,</span> rect<span class="token punctuation">]</span><span class="token punctuation">)</span>
      line<span class="token punctuation">.</span>visible <span class="token operator">=</span> visible
      line<span class="token punctuation">.</span>position <span class="token operator">=</span> position

      <span class="token keyword">if</span> <span class="token punctuation">(</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        condition <span class="token operator">+=</span> <span class="token number">1</span>

        <span class="token doc-comment comment">/**
          * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token punctuation">[</span>number<span class="token punctuation">,</span> number<span class="token punctuation">]</span><span class="token punctuation">}</span></span>
          */</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
          position<span class="token punctuation">.</span>left <span class="token operator">||</span> currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
          position<span class="token punctuation">.</span>top <span class="token operator">||</span> currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y
        <span class="token punctuation">]</span>

        <span class="token comment">// è¿™ä¸€æ­¥æ˜¯ä¸ºäº† è®©ç»„ä»¶æœ‰ä¸ªå¸é™„æ•ˆæœ</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">case</span> <span class="token string">&#39;xt&#39;</span><span class="token operator">:</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y
            <span class="token keyword">break</span>
          <span class="token keyword">case</span> <span class="token string">&#39;xc&#39;</span><span class="token operator">:</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">-</span> currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>size<span class="token punctuation">.</span>h <span class="token operator">/</span> <span class="token number">2</span>
            <span class="token keyword">break</span>
          <span class="token keyword">case</span> <span class="token string">&#39;xb&#39;</span><span class="token operator">:</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">-</span> currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>size<span class="token punctuation">.</span>h
            <span class="token keyword">break</span>
          <span class="token keyword">case</span> <span class="token string">&#39;yc&#39;</span><span class="token operator">:</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">-</span> currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>size<span class="token punctuation">.</span>w <span class="token operator">/</span> <span class="token number">2</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y
            <span class="token keyword">break</span>
          <span class="token keyword">case</span> <span class="token string">&#39;yl&#39;</span><span class="token operator">:</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y
            <span class="token keyword">break</span>
          <span class="token keyword">case</span> <span class="token string">&#39;yr&#39;</span><span class="token operator">:</span>
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">-</span> currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>size<span class="token punctuation">.</span>w
            currentComponent<span class="token punctuation">.</span>props<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¦‚æœæœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹ åˆ™å–æ¶ˆéå†</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token keyword">break</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æœ€å" tabindex="-1"><a class="header-anchor" href="#æœ€å" aria-hidden="true">#</a> æœ€å</h2><figure><img src="https://static-1256180570.cos.ap-nanjing.myqcloud.com/image/1731492501.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,45))])}const u=s(c,[["render",l],["__file","template_editor_markline.html.vue"]]);export{u as default};
